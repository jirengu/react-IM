(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){},26:function(e,t,n){e.exports=n(49)},31:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=(n(31),n(4)),s=n(5),l=n(7),u=n(6),p=n(8),m=(n(33),n(12));n(21);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return function(t){["componentWillMount","render","componentDidMount","componentWillUpdate","shouldComponentUpdate","componentDidUpdate","componentWillReceiveProps","componentWillUnmount"].forEach(function(n){var a="shouldComponentUpdate"===n||function(){return null},r=t.prototype[n]||a;t.prototype[n]=function(){try{return r.call(this,arguments)}catch(c){var a={displayName:t.name,method:n,state:this.state,props:this.props,message:c.stack};e.errorHandler&&console.error("Error",a),e.errorHandler=e.errorHandler||function(e){console.error("Error",e)},e.errorHandler(a)}}})}}n(36),a.Component,n(38);var f,h,v=function(e){function t(e){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props[0];return r.a.createElement("div",{className:"tip ".concat(e.type||this.props.type)},r.a.createElement("section",null,e.title||this.props.title))}}]),t}(a.Component);function g(){f&&b(),f=document.createElement("div"),document.body.appendChild(f),o.a.render(r.a.createElement(v,arguments),f),h&&clearInterval(h),h=setTimeout(function(){b()},2e3)}function b(){f&&(o.a.unmountComponentAtNode(f),f.parentNode.removeChild(f),f=null)}v.defaultProps={title:"\u6210\u529f",type:"success"};var y,E=n(50),j=window.WebIM,O=new j.connection({isMultiLoginSessions:j.config.isMultiLoginSessions,https:!1,url:j.config.xmppURL,heartBeatWait:j.config.heartBeatWait,autoReconnectNumMax:j.config.autoReconnectNumMax,autoReconnectInterval:j.config.autoReconnectInterval,apiUrl:j.config.apiURL,isHttpDNS:j.config.isHttpDNS,isWindowSDK:j.config.isWindowSDK,isAutoLogin:!0,encrypt:j.config.encrypt,delivery:j.config.delivery}),w=j={conn:O},N=n(10),k="reg_state";var C,S=Object(N.b)(function(e){return{regState:e.sign.regState}},{regist:function(e){return function(t){return new Promise(function(n,a){e.success,e.error,e.success=function(){t({type:k,payload:{state:2}}),n()},e.error=function(e){t({type:k,payload:{state:3}}),a(e)},t({type:k,payload:{state:1}}),w.conn.registerUser(e)})}}})(y=d({errorHandler:function(e){}})(y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).signup=function(){var e=n.refs.username.value.trim(),t=n.refs.password.value.trim(),a=n.refs.nickname.value.trim();if(e&&t&&a){var r={username:e,password:t,nickname:a,appKey:"seventcq#react-im",apiUrl:"http://a1.easemob.com"};n.props.regist(r).then(function(){g({title:"\u6ce8\u518c\u6210\u529f",type:"success"}),n.props.history.push("/signin")}).catch(function(e){g({title:"\u7528\u6237\u5df2\u5b58\u5728",type:"error"})})}else g({title:"\u8bf7\u5c06\u4fe1\u606f\u586b\u5199\u5b8c\u6574",type:"error"})},n.state={name:"chiuyung"},n.signup=n.signup.bind(Object(m.a)(Object(m.a)(n))),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BG"},r.a.createElement("section",{className:"sign-wrapper"},r.a.createElement("h3",null,"\u6ce8\u518c"),r.a.createElement("input",{ref:"username",type:"text",name:"username",placeholder:"\u7528\u6237\u540d"}),r.a.createElement("input",{ref:"password",type:"password",name:"password",placeholder:"\u5bc6\u7801"}),r.a.createElement("input",{ref:"nickname",type:"text",name:"nickname",placeholder:"\u6635\u79f0"}),r.a.createElement("button",{onClick:this.signup},"\u6ce8\u518c"),r.a.createElement("p",null,"\u5df2\u6709\u8d26\u53f7\uff0c",r.a.createElement(E.a,{to:"/signin"},"\u767b\u5f55"))))}}]),t}(a.Component))||y)||y;var H,x,U=Object(N.b)(function(e){return{regState:e.sign.regState}},{loginAction:function(e){return function(t){return new Promise(function(t,n){e.success,e.error,e.success=function(e){t(e)},e.error=function(e){n(e)},w.conn.open(e)})}}})(C=d({errorHandler:function(e){}})(C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).signin=function(){var t=e.refs.username.value.trim(),n=e.refs.password.value.trim();if(t&&n){var a={user:t,pwd:n,appKey:"seventcq#react-im",apiUrl:"https://a1.easemob.com"};(0,e.props.loginAction)(a).then(function(t){var n;g({title:"\u767b\u5f55\u6210\u529f",type:"success"}),n=t.access_token,n,e.props.history.push("/chatroom")}).catch(function(e){g({title:"\u672a\u77e5\u9519\u8bef",type:"error"})})}else g({title:"\u8bf7\u5c06\u4fe1\u606f\u586b\u5199\u5b8c\u6574",type:"error"})},e.state={name:"chiuyung"},e.signin=e.signin.bind(Object(m.a)(Object(m.a)(e))),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BG"},r.a.createElement("section",{className:"sign-wrapper"},r.a.createElement("h3",null,"\u767b\u5f55"),r.a.createElement("input",{ref:"username",type:"text",name:"username",placeholder:"\u7528\u6237\u540d"}),r.a.createElement("input",{ref:"password",type:"password",name:"password",placeholder:"\u5bc6\u7801"}),r.a.createElement("button",{onClick:this.signin},"\u767b\u5f55")))}}]),t}(a.Component))||C)||C,W=(n(44),n(46),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"sliderBar"},r.a.createElement("header",null,r.a.createElement("svg",{className:"icon","aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-user"})),r.a.createElement("p",{className:"username"},"username")),r.a.createElement("div",{className:"singleChat"},r.a.createElement("svg",{className:"icon active","aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-chat"}))),r.a.createElement("div",{className:"groupChat"},r.a.createElement("svg",{className:"icon","aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-chatbubbles"}))),r.a.createElement("div",{className:"setting active"},r.a.createElement("svg",{className:"icon","aria-hidden":"true"},r.a.createElement("use",{xlinkHref:"#icon-setting"}))))}}]),t}(a.Component)),B=Object(N.b)(function(e){return{registState:e.sign.regState}})(H=d(function(e){})(H=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"room-wrapper"},r.a.createElement("div",{className:"room"},r.a.createElement(W,null)))}}]),t}(a.Component))||H)||H,M=d(function(e){})(x=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"404\u672a\u627e\u5230\u8be5\u9875\u9762")}}]),t}(a.Component))||x,R=n(13);var D=n(24),A={sign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{regState:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object.assign(e,{regState:t.payload.state});default:return e}}},I=Object(R.c)(A),L=[D.a],K=R.a.apply(void 0,L)(R.d)(I),P=n(51),q=n(53),G=n(52),J=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{store:K},r.a.createElement("div",{className:"App"},r.a.createElement(P.a,null,r.a.createElement("div",null,r.a.createElement(q.a,null,r.a.createElement(G.a,{path:"/signin",component:U}),r.a.createElement(G.a,{path:"/chatroom",component:B}),r.a.createElement(G.a,{path:"/404",component:M}),r.a.createElement(G.a,{path:"/",component:S}))))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,2,1]]]);
//# sourceMappingURL=main.e4e03a29.chunk.js.map